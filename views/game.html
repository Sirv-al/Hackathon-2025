<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Adventure</title>

    <style>
        body {
            background-color: #FFFFFF;
            color: #000000;
            font-family: Arial, sans-serif;
            margin: 0;
            height: 100vh;
        }

        #game-container {
            display: flex; /* Creates the two-column layout */
            height: 100vh;
        }

        /* Column Definitions */
        #left-column {
            flex: 1; /* Takes up 1/3 of the space */
            border: 1px solid black;
            display: flex;
            flex-direction: column;
        }

        #right-column {
            flex: 2; /* Takes up 2/3 of the space */
            border: 1px solid black;
            display: flex;
            flex-direction: column;
        }

        /* Panel Definitions */
        .game-panel {
            border: 1px solid black;
            margin: 5px;
        }

        /* Make panels in the right column grow to fill space */
        #right-column .game-panel {
            padding: 5px;
        }

        /* Specific Panel Sizing */
        #map-container {
            flex-grow: 1; /* Makes the map fill the available space in the left column */
        }

        #game-log {
            flex-grow: 1; /* Makes the log fill the available space in the right column */
            overflow-y: auto;
            min-height: 100px;
        }

        #avatar-container {
            min-height: 200px;
        }

        /* Player Input Form */
        #player-input-form {
            display: flex;
        }
        #player-text-input {
            flex-grow: 1;
        }

        /* Dice Container (Hidden by default) */
        #dice-container {
            display: none; /* Your game.js will change this to 'display: block;' */
        }
    </style>
</head>
<body>

    <main id="game-container">

        <div id="left-column">

            <div id="map-selector-container" class="game-panel">
                <label for="map-select">Choose a map:</label>
                <select name="maps" id="map-select">
                    <option value="forest">Dark Forest</option>
                    <option value="cave">Goblin Cave</option>
                    <option value="town">Village Square</option>
                </select>
                <button id="map-submit-button">Load Map</button>
            </div>

            <div id="map-container" class="game-panel">
                <p>Three.js Map will load here.</p>
            </div>

            <div id="dice-container" class="game-panel">
                <p id="dice-reason">Roll for Initiative!</p>
                <button id="roll-d20-button">Roll d20</button>
            </div>

        </div>

        <div id="right-column">

            <div id="avatar-container" class="game-panel">
                <p>Three.js Avatar will load here.</p>
            </div>

            <div id="avatar-response" class="game-panel">
                <p><strong>Game Master:</strong> "Welcome, adventurer. What will you do?"</p>
            </div>

            <div id="game-log" class="game-panel">
                <p>Game narrative and history will appear here...</p>
            </div>

            <div id="speech-bubble" class="game-panel">
                <p><strong>You:</strong> "I look around."</p>
            </div>

            <div id="player-input-form-container" class="game-panel">
                <form id="player-input-form">
                    <input
                        type="text"
                        id="player-text-input"
                        placeholder="What do you do?"
                        autocomplete="off"
                        required>
                    <button type="submit">Send</button>
                </form>
            </div>

            <div id="stats-panel" class="game-panel">
                <h2 id="player-username">Loading...</h2>
                <div>
                    <strong>HP:</strong>
                    <span id="player-hp">20</span> / <span id="player-max-hp">20</span>
                </div>
                <div>
                    <strong>Strength:</strong>
                    <span id="player-str">10</span>
                </div>
                <div>
                    <strong>Dexterity:</strong>
                    <span id="player-dex">10</span>
                </div>
                <div>
                    <strong>Intelligence:</strong>
                    <span id="player-int">10</span>
                </div>
            </div>

        </div>

    </main>

    <script src="game.js"></script>
    <script type="module" src="avatar.js"></script>
    <script type="module" src="map.js"></script>

</body>
</html>